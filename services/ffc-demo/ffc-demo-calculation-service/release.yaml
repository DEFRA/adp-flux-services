apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: release-ffc-demo-calculation-service
  namespace: ffc-demo
spec:
  releaseName: ffc-demo-calculation-service
  chart: 
    spec:
      chart: ffc-demo-calculation-service
      version: "1.0.0"
      reconcileStrategy: ChartVersion
      sourceRef:
        kind: HelmRepository
        name: repository-ffc-demo-calculation-service
        namespace: ffc-demo
  install: 
    createNamespace: true
  interval: 5m0s
  targetNamespace: ffc-demo
  values:
    environment: development
    image: sndcdoinfcr2401p.azurecr.io/image/ffc-demo-calculation-service:1.0.0
    appInsights:
      key:
    container:
      imagePullPolicy: Always
      requestMemory: 5Mi
      requestCpu: 5m
      limitMemory: 60Mi
      limitCpu: 40m
      messageQueueHost: amq
      calculationQueueAddress: calculation
      paymentTopicAddress: payment
      protectiveMonitoringUrl:
    aadPodIdentity: false
    azureIdentity:
      clientID: not-a-real-clientID
      resourceID: not-a-real-resourceID
    deployment:
      restartPolicy: Always
      priorityClassName: low
      replicas: 1
      minReplicas: 1
      maxReplicas: 3
      cpuThreshold: 80
      memoryThreshold: 80
      minReadySeconds: 5
      imagePullSecret:
    
